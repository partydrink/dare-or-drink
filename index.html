<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<title>DARE OR DRINK</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #06060c;
  --surface: #0e0e18;
  --card-bg: #111120;
  --accent: #ff2d55;
  --gold: #ffd60a;
  --cyan: #00d4ff;
  --purple: #bf5af2;
  --green: #30d158;
  --text: #f5f5f7;
  --muted: #555570;
  --border: #1c1c2e;
}

*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

html { overflow-x: hidden; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: 'Outfit', sans-serif;
  min-height: 100vh;
  overflow-x: hidden;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   AMBIENT BACKGROUND
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */









  33% { transform: translate(20px, -30px) scale(1.05); }
  66% { transform: translate(-15px, 20px) scale(0.95); }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MAIN APP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#app {
  position: relative;
  z-index: 1;
  max-width: 460px;
  margin: 0 auto;
  padding: 20px 18px 40px;
  opacity: 1;
}

.app-header {
  text-align: center;
  padding: 24px 0 20px;
}

.app-logo {
  font-family: 'Bebas Neue', cursive;
  font-size: 44px;
  letter-spacing: 5px;
  background: linear-gradient(135deg, var(--accent) 0%, var(--gold) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.app-tagline {
  font-size: 11px;
  color: var(--muted);
  letter-spacing: 3px;
  text-transform: uppercase;
  margin-top: 4px;
}

/* Screens */
.screen { display: none; }
.screen.active { display: block; animation: screenIn 0.35s ease; }

@keyframes screenIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SETUP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.section-label {
  font-family: 'Bebas Neue', cursive;
  font-size: 18px;
  letter-spacing: 2px;
  color: var(--gold);
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.vibe-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  margin-bottom: 24px;
}

.vibe-btn {
  background: var(--surface);
  border: 1.5px solid var(--border);
  border-radius: 14px;
  padding: 14px 10px;
  cursor: pointer;
  transition: all 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
  text-align: center;
  position: relative;
  overflow: hidden;
}

.vibe-btn::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, var(--accent), transparent);
  opacity: 0;
  transition: opacity 0.2s;
}

.vibe-btn:hover { transform: translateY(-3px) scale(1.02); border-color: var(--accent); }
.vibe-btn:hover::after { opacity: 0.08; }
.vibe-btn.active { border-color: var(--accent); background: rgba(255,45,85,0.1); transform: scale(1.02); }
.vibe-btn.active::after { opacity: 0.1; }

.vibe-icon { font-size: 28px; display: block; margin-bottom: 6px; position: relative; z-index: 1; }
.vibe-name { font-size: 13px; font-weight: 700; position: relative; z-index: 1; }
.vibe-desc { font-size: 10px; color: var(--muted); margin-top: 2px; position: relative; z-index: 1; }

.rounds-row {
  display: flex;
  gap: 6px;
  margin-bottom: 24px;
}

.round-opt {
  flex: 1;
  background: var(--surface);
  border: 1.5px solid var(--border);
  border-radius: 10px;
  padding: 10px 4px;
  cursor: pointer;
  text-align: center;
  transition: all 0.2s;
  font-family: 'Bebas Neue', cursive;
  font-size: 20px;
  color: var(--muted);
}

.round-opt small { display: block; font-family: 'Outfit', sans-serif; font-size: 9px; font-weight: 400; margin-top: 1px; }
.round-opt:hover { border-color: var(--gold); color: var(--gold); }
.round-opt.active { border-color: var(--gold); background: rgba(255,214,10,0.1); color: var(--gold); }

.player-row {
  display: flex;
  gap: 8px;
  margin-bottom: 10px;
}

input[type="text"] {
  flex: 1;
  background: var(--surface);
  border: 1.5px solid var(--border);
  border-radius: 10px;
  padding: 12px 14px;
  color: var(--text);
  font-family: 'Outfit', sans-serif;
  font-size: 14px;
  outline: none;
  transition: border-color 0.2s;
}

input[type="text"]:focus { border-color: var(--cyan); }
input[type="text"]::placeholder { color: var(--muted); }

.btn-add {
  background: var(--cyan);
  border: none;
  border-radius: 10px;
  width: 44px;
  height: 44px;
  font-size: 22px;
  cursor: pointer;
  color: #000;
  font-weight: 700;
  transition: all 0.2s;
  flex-shrink: 0;
}

.btn-add:hover { background: #fff; transform: scale(1.08); }

.players-list {
  display: flex;
  flex-wrap: wrap;
  gap: 7px;
  margin-bottom: 24px;
  min-height: 8px;
}

.player-chip {
  background: rgba(0,212,255,0.1);
  border: 1px solid rgba(0,212,255,0.25);
  border-radius: 20px;
  padding: 6px 12px;
  font-size: 13px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 7px;
  animation: chipIn 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes chipIn {
  from { opacity: 0; transform: scale(0.7); }
  to { opacity: 1; transform: scale(1); }
}

.player-chip button {
  background: none;
  border: none;
  color: var(--muted);
  cursor: pointer;
  font-size: 15px;
  line-height: 1;
  padding: 0;
  transition: color 0.2s;
}

.player-chip button:hover { color: var(--accent); }

.btn-start {
  width: 100%;
  padding: 18px;
  background: linear-gradient(135deg, var(--accent) 0%, #ff6b35 100%);
  border: none;
  border-radius: 16px;
  font-family: 'Bebas Neue', cursive;
  font-size: 28px;
  letter-spacing: 4px;
  color: white;
  cursor: pointer;
  transition: all 0.25s;
  box-shadow: 0 8px 40px rgba(255,45,85,0.35);
  position: relative;
  overflow: hidden;
}

.btn-start::before {
  content: '';
  position: absolute;
  top: 0; left: -100%;
  width: 100%; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
  transition: left 0.4s;
}

.btn-start:hover::before { left: 100%; }
.btn-start:hover { transform: translateY(-3px); box-shadow: 0 14px 50px rgba(255,45,85,0.5); }
.btn-start:active { transform: translateY(0); }
.btn-start:disabled { opacity: 0.35; cursor: not-allowed; transform: none; box-shadow: none; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GAME SCREEN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.top-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 10px 14px;
  margin-bottom: 16px;
}

.top-vibe { display: flex; align-items: center; gap: 7px; font-size: 13px; color: var(--muted); }
.top-round { font-family: 'Bebas Neue', cursive; font-size: 16px; letter-spacing: 1px; color: var(--gold); }

.player-banner {
  text-align: center;
  margin-bottom: 16px;
}

.turn-hint { font-size: 11px; color: var(--muted); letter-spacing: 3px; text-transform: uppercase; }

.player-name-display {
  font-family: 'Bebas Neue', cursive;
  font-size: 42px;
  letter-spacing: 3px;
  color: var(--gold);
  line-height: 1;
  margin-top: 2px;
  animation: nameChange 0.3s ease;
}

@keyframes nameChange {
  from { opacity: 0; transform: translateY(-8px) scale(0.95); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   THE CARD â€” HERO ELEMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.card-wrap {
  perspective: 800px;
  margin-bottom: 16px;
  position: relative;
}

.card {
  background: var(--card-bg);
  border: 1.5px solid var(--border);
  border-radius: 24px;
  padding: 36px 24px 30px;
  min-height: 210px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  position: relative;
  overflow: hidden;
  transition: box-shadow 0.3s;
}

/* Glow ring around card based on type */
.card.type-truth { box-shadow: 0 0 0 1.5px rgba(0,212,255,0.3), 0 20px 60px rgba(0,212,255,0.1); }
.card.type-dare { box-shadow: 0 0 0 1.5px rgba(255,45,85,0.4), 0 20px 60px rgba(255,45,85,0.15); }
.card.type-drink { box-shadow: 0 0 0 1.5px rgba(255,214,10,0.35), 0 20px 60px rgba(255,214,10,0.12); }
.card.type-social { box-shadow: 0 0 0 1.5px rgba(191,90,242,0.35), 0 20px 60px rgba(191,90,242,0.12); }

/* Card inner glow */
.card::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle at 50% 0%, var(--card-glow, rgba(255,45,85,0.08)) 0%, transparent 60%);
  pointer-events: none;
}

.type-truth { --card-glow: rgba(0,212,255,0.1); }
.type-dare { --card-glow: rgba(255,45,85,0.1); }
.type-drink { --card-glow: rgba(255,214,10,0.1); }
.type-social { --card-glow: rgba(191,90,242,0.1); }

/* Card scan line effect */
.card::after {
  content: '';
  position: absolute;
  top: -100%;
  left: 0;
  width: 100%;
  height: 40%;
  background: linear-gradient(transparent, rgba(255,255,255,0.02), transparent);
  pointer-events: none;
}

.card.reveal::after {
  animation: scanLine 0.6s ease forwards;
}

@keyframes scanLine {
  from { top: -100%; }
  to { top: 120%; }
}

.type-badge {
  position: absolute;
  top: 14px;
  right: 14px;
  font-family: 'Bebas Neue', cursive;
  font-size: 11px;
  letter-spacing: 2px;
  padding: 4px 10px;
  border-radius: 20px;
  color: white;
  background: var(--badge-color, var(--accent));
}

.type-truth .type-badge { --badge-color: var(--cyan); background: rgba(0,212,255,0.2); color: var(--cyan); border: 1px solid rgba(0,212,255,0.3); }
.type-dare .type-badge { --badge-color: var(--accent); background: rgba(255,45,85,0.2); color: var(--accent); border: 1px solid rgba(255,45,85,0.3); }
.type-drink .type-badge { --badge-color: var(--gold); background: rgba(255,214,10,0.2); color: var(--gold); border: 1px solid rgba(255,214,10,0.3); }
.type-social .type-badge { --badge-color: var(--purple); background: rgba(191,90,242,0.2); color: var(--purple); border: 1px solid rgba(191,90,242,0.3); }

/* CARD ANIMATIONS */
.card.anim-enter {
  animation: cardEnter 0.5s cubic-bezier(0.34, 1.4, 0.64, 1) forwards;
}

@keyframes cardEnter {
  0% { 
    opacity: 0;
    transform: rotateX(-25deg) translateY(30px) scale(0.88);
    filter: blur(4px);
  }
  60% {
    filter: blur(0px);
    transform: rotateX(3deg) translateY(-4px) scale(1.01);
  }
  100% {
    opacity: 1;
    transform: rotateX(0deg) translateY(0) scale(1);
    filter: blur(0);
  }
}

.card.anim-done {
  animation: cardDoneAnim 0.4s ease forwards;
}

@keyframes cardDoneAnim {
  0% { transform: scale(1); }
  30% { transform: scale(1.04) translateY(-4px); filter: brightness(1.3); }
  100% { transform: scale(0.9) translateY(20px) rotateX(15deg); opacity: 0; filter: blur(3px); }
}

.card.anim-drink {
  animation: cardDrinkAnim 0.4s ease forwards;
}

@keyframes cardDrinkAnim {
  0% { transform: scale(1) rotate(0deg); }
  20% { transform: scale(0.98) rotate(-2deg); }
  100% { transform: scale(0.9) rotate(4deg) translateY(20px); opacity: 0; filter: blur(3px); }
}

.card-emoji {
  font-size: 52px;
  display: block;
  margin-bottom: 14px;
  position: relative;
  z-index: 1;
}

.card-emoji.pop {
  animation: emojiPop 0.5s cubic-bezier(0.34, 1.7, 0.64, 1) forwards;
}

@keyframes emojiPop {
  0% { transform: scale(0) rotate(-20deg); }
  60% { transform: scale(1.25) rotate(5deg); }
  100% { transform: scale(1) rotate(0deg); }
}

.card-text {
  font-size: 17px;
  font-weight: 500;
  line-height: 1.55;
  position: relative;
  z-index: 1;
}

.card-sub {
  margin-top: 10px;
  font-size: 12px;
  color: var(--muted);
  font-style: italic;
  position: relative;
  z-index: 1;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ACTION BUTTONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.action-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  margin-bottom: 8px;
}

.btn-action {
  padding: 15px 8px;
  border: none;
  border-radius: 14px;
  font-family: 'Bebas Neue', cursive;
  font-size: 19px;
  letter-spacing: 2px;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.34, 1.4, 0.64, 1);
  position: relative;
  overflow: hidden;
}

.btn-action::before {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 0.2s;
  background: rgba(255,255,255,0.1);
}

.btn-action:hover::before { opacity: 1; }
.btn-action:hover { transform: translateY(-3px) scale(1.02); }
.btn-action:active { transform: scale(0.97); }

.btn-done {
  background: linear-gradient(135deg, #1a4a2e, #1f5c38);
  color: var(--green);
  border: 1px solid rgba(48,209,88,0.3);
  box-shadow: 0 4px 20px rgba(48,209,88,0.15);
}

.btn-done:hover { box-shadow: 0 8px 30px rgba(48,209,88,0.3); }

.btn-skip {
  background: var(--surface);
  color: var(--muted);
  border: 1.5px solid var(--border);
}

.btn-next {
  width: 100%;
  padding: 13px;
  background: transparent;
  border: 1.5px solid var(--border);
  border-radius: 14px;
  font-family: 'Bebas Neue', cursive;
  font-size: 18px;
  letter-spacing: 2px;
  color: var(--muted);
  cursor: pointer;
  transition: all 0.2s;
  margin-bottom: 16px;
}

.btn-next:hover { border-color: var(--gold); color: var(--gold); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCOREBOARD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.scoreboard {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 16px;
  overflow: hidden;
}

.score-head {
  display: grid;
  grid-template-columns: 1fr 52px 52px;
  padding: 8px 14px;
  border-bottom: 1px solid var(--border);
  font-size: 10px;
  color: var(--muted);
  letter-spacing: 1.5px;
  text-transform: uppercase;
}

.score-head span:not(:first-child) { text-align: center; }

.score-row {
  display: grid;
  grid-template-columns: 1fr 52px 52px;
  padding: 10px 14px;
  border-bottom: 1px solid var(--border);
  align-items: center;
  transition: background 0.3s;
}

.score-row:last-child { border-bottom: none; }
.score-row.active { background: rgba(255,214,10,0.05); }

.score-name { font-weight: 600; font-size: 14px; display: flex; align-items: center; gap: 6px; }
.score-name .arrow { color: var(--gold); font-size: 10px; animation: arrowBlink 1s ease-in-out infinite; }

@keyframes arrowBlink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

.score-num { text-align: center; font-family: 'Bebas Neue', cursive; font-size: 22px; }
.score-num.drinks { color: var(--gold); }
.score-num.tasks { color: var(--green); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   END SCREEN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#endScreen .end-title {
  font-family: 'Bebas Neue', cursive;
  font-size: 56px;
  letter-spacing: 5px;
  text-align: center;
  margin: 16px 0 4px;
  background: linear-gradient(135deg, var(--accent), var(--gold));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.end-sub {
  text-align: center;
  color: var(--muted);
  font-size: 13px;
  margin-bottom: 24px;
}

.podium-list { display: flex; flex-direction: column; gap: 8px; margin-bottom: 24px; }

.podium-row {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  animation: podiumIn 0.4s cubic-bezier(0.34, 1.4, 0.64, 1) both;
}

@keyframes podiumIn {
  from { opacity: 0; transform: translateX(-20px) scale(0.95); }
  to { opacity: 1; transform: translateX(0) scale(1); }
}

.podium-row:nth-child(1) { border-color: var(--gold); background: rgba(255,214,10,0.06); animation-delay: 0.1s; }
.podium-row:nth-child(2) { animation-delay: 0.2s; }
.podium-row:nth-child(3) { animation-delay: 0.3s; }
.podium-row:nth-child(n+4) { animation-delay: 0.4s; }

.podium-rank { font-family: 'Bebas Neue', cursive; font-size: 28px; width: 36px; text-align: center; color: var(--muted); }
.podium-row:nth-child(1) .podium-rank { color: var(--gold); }

.podium-name { flex: 1; font-weight: 700; font-size: 15px; }

.podium-stats { display: flex; gap: 12px; }
.p-stat { text-align: center; }
.p-num { font-family: 'Bebas Neue', cursive; font-size: 22px; display: block; }
.p-num.d { color: var(--gold); }
.p-num.t { color: var(--green); }
.p-lbl { font-size: 9px; color: var(--muted); letter-spacing: 1px; text-transform: uppercase; }

.btn-again {
  width: 100%;
  padding: 18px;
  background: linear-gradient(135deg, var(--accent), #ff6b35);
  border: none;
  border-radius: 16px;
  font-family: 'Bebas Neue', cursive;
  font-size: 26px;
  letter-spacing: 4px;
  color: white;
  cursor: pointer;
  transition: all 0.25s;
  box-shadow: 0 8px 40px rgba(255,45,85,0.3);
}

.btn-again:hover { transform: translateY(-3px); box-shadow: 0 14px 50px rgba(255,45,85,0.5); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TOAST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.toast {
  position: fixed;
  bottom: 28px;
  left: 50%;
  transform: translateX(-50%) translateY(20px);
  padding: 12px 22px;
  border-radius: 12px;
  font-weight: 700;
  font-size: 14px;
  opacity: 0;
  transition: all 0.3s cubic-bezier(0.34, 1.4, 0.64, 1);
  z-index: 999;
  white-space: nowrap;
  pointer-events: none;
}

.toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
.toast.done { background: rgba(48,209,88,0.95); color: #000; }
.toast.drink { background: rgba(255,214,10,0.95); color: #000; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CONFETTI BURST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.confetti-piece {
  position: fixed;
  width: 8px;
  height: 8px;
  border-radius: 2px;
  pointer-events: none;
  z-index: 998;
  animation: confettiFall var(--dur) ease-in forwards;
}

@keyframes confettiFall {
  0% { transform: translate(0, 0) rotate(0deg) scale(1); opacity: 1; }
  100% { transform: translate(var(--dx), var(--dy)) rotate(var(--rot)) scale(0); opacity: 0; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MOBILE FIXES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
html, body {
  width: 100%;
  max-width: 100vw;
  overflow-x: hidden;
}

#app {
  width: 100%;
  max-width: 460px;
  padding: 12px 14px 60px;
}

@media (max-width: 480px) {
  

  

  .app-logo {
    font-size: 36px;
  }

  .vibe-grid {
    gap: 6px;
  }

  .vibe-btn {
    padding: 10px 6px;
  }

  .vibe-icon { font-size: 22px; }
  .vibe-name { font-size: 12px; }
  .vibe-desc { font-size: 9px; }

  .rounds-row {
    gap: 4px;
  }

  .round-opt {
    font-size: 16px;
    padding: 8px 2px;
  }

  .round-opt small {
    font-size: 8px;
  }

  .btn-start {
    font-size: 22px;
    padding: 15px;
  }

  .card {
    padding: 24px 16px 20px;
    min-height: 180px;
  }

  .card-emoji {
    font-size: 40px;
    margin-bottom: 10px;
  }

  .card-text {
    font-size: 15px;
    line-height: 1.45;
  }

  .player-name-display {
    font-size: 34px;
  }

  .btn-action {
    font-size: 16px;
    padding: 13px 6px;
  }

  .score-num {
    font-size: 18px;
  }

  .top-bar {
    padding: 8px 12px;
  }

  .section-label {
    font-size: 16px;
  }

  .podium-row {
    padding: 11px 12px;
    gap: 8px;
  }

  .podium-rank {
    font-size: 22px;
    width: 28px;
  }

  .podium-name {
    font-size: 13px;
  }

  .p-num {
    font-size: 18px;
  }

  .end-title {
    font-size: 44px;
  }

  input[type="text"],
  input[type="number"] {
    font-size: 16px; /* Prevents iOS zoom on focus */
  }
}
</style>
</head>
<body>

<!-- AMBIENT BACKGROUND -->
<div class="ambient">
  <div class="ambient-orb orb1"></div>
  <div class="ambient-orb orb2"></div>
  <div class="ambient-orb orb3"></div>
</div>

<!-- â•â•â• MAIN APP â•â•â• -->
<div id="app">
  <div class="app-header">
    <div class="app-logo">DARE OR DRINK</div>
    <div class="app-tagline">The Party Game That Reads The Room</div>
  </div>

  <!-- SETUP SCREEN -->
  <div id="setupScreen" class="screen active">

    <div class="section-label">ğŸ“ Pick Your Vibe</div>
    <div class="vibe-grid">
      <button class="vibe-btn active" data-vibe="house" onclick="selectVibe(this)">
        <span class="vibe-icon">ğŸ </span>
        <div class="vibe-name">House Party</div>
        <div class="vibe-desc">Chill & wild at home</div>
      </button>
      <button class="vibe-btn" data-vibe="bar" onclick="selectVibe(this)">
        <span class="vibe-icon">ğŸº</span>
        <div class="vibe-name">Bar / Club</div>
        <div class="vibe-desc">Strangers & shots</div>
      </button>
      <button class="vibe-btn" data-vibe="outdoor" onclick="selectVibe(this)">
        <span class="vibe-icon">ğŸŒŠ</span>
        <div class="vibe-name">Outdoors</div>
        <div class="vibe-desc">Beach, park, festival</div>
      </button>
      <button class="vibe-btn" data-vibe="road" onclick="selectVibe(this)">
        <span class="vibe-icon">ğŸš—</span>
        <div class="vibe-name">Road Trip</div>
        <div class="vibe-desc">Car, hotel, adventure</div>
      </button>
    </div>

    <div class="section-label">ğŸ”„ Rounds</div>
    <div class="rounds-row" style="margin-bottom:10px">
      <button class="round-opt" data-rounds="3" onclick="selectRounds(this)">3<small>Quick</small></button>
      <button class="round-opt active" data-rounds="5" onclick="selectRounds(this)">5<small>Normal</small></button>
      <button class="round-opt" data-rounds="10" onclick="selectRounds(this)">10<small>Wild</small></button>
      <button class="round-opt" data-rounds="999" onclick="selectRounds(this)">âˆ<small>No Limit</small></button>
      <button class="round-opt" data-rounds="custom" onclick="selectRounds(this)">âœï¸<small>Custom</small></button>
    </div>
    <div id="customRoundWrap" style="display:none;margin-bottom:24px">
      <input type="number" id="customRoundInput" min="1" max="999" placeholder="Enter number of rounds..." oninput="updateCustomRounds()" style="width:100%">
    </div>
    <div id="customRoundSpacer" style="margin-bottom:24px"></div>

    <div class="section-label">ğŸ‘¥ Players</div>
    <div class="player-row">
      <input type="text" id="playerInput" placeholder="Player name..." maxlength="16" onkeydown="if(event.key==='Enter')addPlayer()">
      <button class="btn-add" onclick="addPlayer()">+</button>
    </div>
    <div class="players-list" id="playersList"></div>

    <button class="btn-start" id="startBtn" onclick="startGame()" disabled>LET'S GO ğŸ”¥</button>
  </div>

  <!-- GAME SCREEN -->
  <div id="gameScreen" class="screen">

    <div class="top-bar">
      <div class="top-vibe">
        <span id="vibeIcon">ğŸ </span>
        <span id="vibeName">House Party</span>
      </div>
      <div class="top-round" id="roundDisplay">Round 1 / 5</div>
    </div>

    <div class="player-banner">
      <div class="turn-hint">It's your turn</div>
      <div class="player-name-display" id="currentPlayer">â€”</div>
    </div>

    <div class="card-wrap">
      <div class="card" id="gameCard">
        <span class="type-badge" id="typeBadge">DARE</span>
        <span class="card-emoji" id="cardEmoji">ğŸ²</span>
        <div class="card-text" id="cardText">Get ready â€” first card coming up!</div>
        <div class="card-sub" id="cardSub"></div>
      </div>
    </div>

    <div class="action-grid">
      <button class="btn-action btn-done" onclick="cardDone(true)">âœ… DONE</button>
      <button class="btn-action btn-skip" onclick="cardDone(false)">ğŸº DRINK</button>
    </div>
    <button class="btn-next" onclick="nextCard()">NEXT CARD â†’</button>

    <div class="scoreboard">
      <div class="score-head">
        <span>Player</span>
        <span>ğŸº</span>
        <span>âœ…</span>
      </div>
      <div id="scoreRows"></div>
    </div>

  </div>

  <!-- END SCREEN -->
  <div id="endScreen" class="screen">
    <div class="end-title">GAME OVER!</div>
    <div class="end-sub">Here's how the night went ğŸ‰</div>
    <div class="podium-list" id="podiumList"></div>
    <button class="btn-again" onclick="resetGame()">PLAY AGAIN ğŸ”</button>
  </div>

</div>

<div class="toast" id="toast"></div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SPLASH
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
(function() {
  // Create particles
  const colors = ['#ff2d55','#ffd60a','#00d4ff','#bf5af2','#30d158'];
  

  
})();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CARDS DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Cards use [PLAYER] which gets replaced with the current player's name
const CARDS = {
  house: [
    { type:'dare', emoji:'ğŸ“±', text:"[PLAYER] â€” let someone scroll your camera roll for 30 seconds. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ’¸', text:"[PLAYER] â€” show your bank balance. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ˜', text:"[PLAYER] â€” point at who in this room you'd hook up with if you were single. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ“¸', text:"[PLAYER] â€” post a story right now. The group decides what it says. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ’¬', text:"[PLAYER] â€” show us your last text conversation. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜¬', text:"[PLAYER] â€” what's the dirtiest thing you've done? Spill or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ”¥', text:"[PLAYER] â€” who in this room have you fantasized about? Answer or drink 2x.", sub:'' },
    { type:'dare', emoji:'ğŸ“²', text:"[PLAYER] â€” let the group send one text to anyone in your contacts. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ’€', text:"[PLAYER] â€” what's the worst lie you've told someone in this room? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ™ˆ', text:"[PLAYER] â€” open your 'My Eyes Only' folder. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ’‹', text:"[PLAYER] â€” describe your last situationship using only 3 words. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ˜˜', text:"[PLAYER] â€” give someone here a hickey. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ‘€', text:"[PLAYER] â€” point at who you think gives off virgin energy. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ¤³', text:"[PLAYER] â€” let someone go through your DMs for 30 seconds. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ«¦', text:"[PLAYER] â€” who here would you Kiss, Marry, Kill? Answer all three or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ’¬', text:"[PLAYER] â€” send a risky text to your crush right now. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¥´', text:"[PLAYER] â€” have you ever said 'I love you' and not meant it? Tell the story or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ‘', text:"[PLAYER] â€” describe your type in 3 words. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¤', text:"[PLAYER] â€” what's something you've done that no one here knows about? Confess or drink 2x.", sub:'' },
    { type:'dare', emoji:'ğŸ«£', text:"[PLAYER] â€” let the group ask you anything for 60 seconds. Or drink 2x.", sub:'' },
    { type:'dare', emoji:'ğŸ”', text:"[PLAYER] â€” what's the most embarrassing thing in your search history? Show us or drink 2x.", sub:'' },
    { type:'dare', emoji:'ğŸ˜–', text:"[PLAYER] â€” read your most cringe sent message out loud. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ’­', text:"[PLAYER] â€” name everyone in this room you've thought about romantically. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ­', text:"[PLAYER] â€” what's the most desperate thing you've done for attention? Confess or drink.", sub:'' },
    { type:'dare', emoji:'ğŸµ', text:"[PLAYER] â€” show us your Spotify wrapped top artist. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸª', text:"[PLAYER] â€” do your best impression of someone in this room. Group votes. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜¤', text:"[PLAYER] â€” what's the pettiest thing you've ever done to an ex? Spill or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ“', text:"[PLAYER] â€” who in this room would you call at 3am? Answer or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ‘ï¸', text:"[PLAYER] â€” have you ever stalked someone's profile for more than 30 minutes? Admit it or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ“Š', text:"[PLAYER] â€” show us your screen time from this week. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¤¦', text:"[PLAYER] â€” what's the most embarrassing thing you've done while drunk? Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ’¯', text:"[PLAYER] â€” rate your own looks out of 10. Out loud. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ™ï¸', text:"[PLAYER] â€” let someone read your last voice note out loud. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ‘…', text:"[PLAYER] â€” who here have you talked shit about? Name one or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ¤«', text:"[PLAYER] â€” what's a secret you've been keeping from someone in this room? Spill or drink 2x.", sub:'' },
    { type:'dare', emoji:'ğŸ“·', text:"[PLAYER] â€” show us the last person you searched on Instagram. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ§¸', text:"[PLAYER] â€” what's the most childish thing you still do? Admit it or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¤’', text:"[PLAYER] â€” have you ever faked being sick to avoid plans with someone here? Name them or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ›’', text:"[PLAYER] â€” what's the most embarrassing purchase in your order history? Show us or drink.", sub:'' },
    { type:'truth', emoji:'âŒ', text:"[PLAYER] â€” who in this room would you never date and why? Answer or drink 2x.", sub:'' },
    { type:'dare', emoji:'ğŸ““', text:"[PLAYER] â€” show your notes app. Group picks one note to read out loud. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ­', text:"[PLAYER] â€” what's one thing you pretend to like but actually hate? Tell or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ‘»', text:"[PLAYER] â€” have you ever ghosted someone in this room? Admit it or drink 2x.", sub:'' },
    { type:'dare', emoji:'ğŸ“', text:"[PLAYER] â€” call someone and say 'I've been thinking about you.' Or drink 2x.", sub:'' },
    { type:'dare', emoji:'ğŸ“±', text:"[PLAYER] â€” let someone post one thing on your Instagram story. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸš©', text:"[PLAYER] â€” what's the biggest red flag you've ignored in a relationship? Confess or drink.", sub:'' },
    { type:'truth', emoji:'ğŸš«', text:"[PLAYER] â€” have you ever been blocked by someone? Tell the story or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜¤', text:"[PLAYER] â€” what's the most unhinged thing you've done out of jealousy? Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ”¢', text:"[PLAYER] â€” what's your body count â€” within 2 of the real number. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ’”', text:"[PLAYER] â€” have you ever cheated or been cheated on? Answer honestly or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ˜…', text:"[PLAYER] â€” what's the most embarrassing reason you've rejected someone? Spill or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ“–', text:"[PLAYER] â€” who in this room do you think has the most interesting dating history? Point or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ“©', text:"[PLAYER] â€” have you ever slid into someone's DMs and regretted it? Tell the story or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¤¥', text:"[PLAYER] â€” what's the last lie you told? Be honest or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ§ ', text:"[PLAYER] â€” what's the most questionable decision you've made for someone you liked? Confess or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ’­', text:"[PLAYER] â€” what's one thing you'd change about your love life right now? Tell or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜³', text:"[PLAYER] â€” what's the most embarrassing thing your parents have caught you doing? Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜±', text:"[PLAYER] â€” what's the most unhinged thing you've done for someone you had a crush on? Confess or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ”®', text:"[PLAYER] â€” what do you think people in this room actually think of you? Answer or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¤¡', text:"[PLAYER] â€” what's the most embarrassing thing you've done sober? Tell or drink.", sub:'' },
  ],
  bar: [
    { type:'dare', emoji:'ğŸ’ƒ', text:"[PLAYER] â€” go dance alone on the floor for 30 seconds. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ¤³', text:"[PLAYER] â€” take a selfie with a stranger and show us. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ˜', text:"[PLAYER] â€” point to the most attractive person in this bar. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ—£ï¸', text:"[PLAYER] â€” go tell a stranger they look amazing. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ‘€', text:"[PLAYER] â€” have you ever hooked up with someone you met at a bar? Tell the story or drink.", sub:'' },
    { type:'dare', emoji:'ğŸµ', text:"[PLAYER] â€” go request a song from the DJ or bartender right now. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ“', text:"[PLAYER] â€” go get a stranger's number. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ’¸', text:"[PLAYER] â€” what's the most money you've spent on a single night out? Answer or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ¹', text:"[PLAYER] â€” let a stranger pick your next drink. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¤', text:"[PLAYER] â€” point at who here you'd trust with your drink. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ˜', text:"[PLAYER] â€” do your best pickup line on a stranger. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ’‹', text:"[PLAYER] â€” have you ever kissed someone just to make someone else jealous? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ‘‹', text:"[PLAYER] â€” go introduce yourself to a group of strangers. Or drink 2x.", sub:'' },
    { type:'dare', emoji:'ğŸ•µï¸', text:"[PLAYER] â€” find out a stranger's name and one weird fact about them. 3 mins or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ˜³', text:"[PLAYER] â€” what's the most embarrassing thing that's happened to you in a bar? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ‘—', text:"[PLAYER] â€” go ask a stranger for their honest opinion on your outfit. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜¬', text:"[PLAYER] â€” have you ever hooked up with someone and then seen them at the same bar again? Tell or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¯', text:"[PLAYER] â€” point at the person in this bar you'd most want to know. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ¸', text:"[PLAYER] â€” go order a drink you've never tried before. Or drink what you have 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ¤¯', text:"[PLAYER] â€” what's the craziest thing you've seen happen at a bar? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ“¸', text:"[PLAYER] â€” go take a photo with the bartender. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜¢', text:"[PLAYER] â€” have you ever cried in a bar bathroom? Admit it or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¥ƒ', text:"[PLAYER] â€” what's the most you've ever drunk in one night? Answer honestly or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ’¼', text:"[PLAYER] â€” go find out what the stranger nearest to you does for work. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸš¶', text:"[PLAYER] â€” who in this group is most likely to leave with a stranger tonight? Point or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜‚', text:"[PLAYER] â€” what's the worst pickup line someone has used on you? Re-enact it or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ’', text:"[PLAYER] â€” have you ever kissed someone in a bar you didn't know before that night? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ•º', text:"[PLAYER] â€” go challenge a stranger to a dance-off. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ¤¦', text:"[PLAYER] â€” what's the most embarrassing thing you've done while drunk in public? Confess or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ“–', text:"[PLAYER] â€” point at who in this group has the most interesting night out stories. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜±', text:"[PLAYER] â€” have you ever made out with someone in a bar while someone you knew watched? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸš¶', text:"[PLAYER] â€” show us your walk â€” like you're entering the most important room of your life. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ‘”', text:"[PLAYER] â€” go swap a piece of clothing item with a stranger for 5 minutes. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ—ºï¸', text:"[PLAYER] â€” what's the most unexpected place you've ended up after a night out? Tell or drink.", sub:'' },
    { type:'truth', emoji:'ğŸšª', text:"[PLAYER] â€” have you ever snuck into a place you weren't supposed to be? Confess or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ‘Š', text:"[PLAYER] â€” point at who in this group you'd want on your team in a bar fight. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¤¢', text:"[PLAYER] â€” what's the worst hangover story you have? Tell it or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ¥ƒ', text:"[PLAYER] â€” go convince a stranger to do a shot with the group. Or drink 2x.", sub:'' },
    { type:'dare', emoji:'ğŸ“±', text:"[PLAYER] â€” have you ever drunk-texted someone and regretted it? Read the message or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ”‘', text:"[PLAYER] â€” what's the most embarrassing thing you've lost on a night out? Confess or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜¤', text:"[PLAYER] â€” have you ever made a scene in public while drunk? Tell the story or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ­', text:"[PLAYER] â€” who in this group is most likely to start drama tonight? Point or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ’”', text:"[PLAYER] â€” what's one night out rule you always break? Confess or drink.", sub:'' },
    { type:'dare', emoji:'ğŸŒŸ', text:"[PLAYER] â€” go pay someone a compliment so good they remember it tomorrow. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜£', text:"[PLAYER] â€” what's the worst decision you've made on a night out? Spill or drink 2x.", sub:'' },
    { type:'dare', emoji:'ğŸƒ', text:"[PLAYER] â€” go find out the first name of 3 strangers in the next 2 minutes. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸš—', text:"[PLAYER] â€” have you ever left a bar with someone you just met? Tell or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ’ƒ', text:"[PLAYER] â€” point at who in this group has the best or worst dance moves. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ™ˆ', text:"[PLAYER] â€” what's one thing that always happens when you go out that you're slightly ashamed of? Confess or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ€', text:"[PLAYER] â€” what's the luckiest or unluckiest thing that's ever happened to you on a night out? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ¤', text:"[PLAYER] â€” go sing one line of any song to a stranger. Or drink.", sub:'' },
  ],
  outdoor: [
    { type:'dare', emoji:'ğŸŒŠ', text:"[PLAYER] â€” take off your shoes and put your feet in the water/grass for 15 seconds. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ“¢', text:"[PLAYER] â€” shout your most embarrassing secret as loud as you can. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸŒ…', text:"[PLAYER] â€” what's the wildest thing you've done outdoors? Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ¤¸', text:"[PLAYER] â€” do 15 jumping jacks right now. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ­', text:"[PLAYER] â€” act out your last hookup using only sounds. Group guesses. Or drink.", sub:'' },
    { type:'truth', emoji:'â˜€ï¸', text:"[PLAYER] â€” what's one thing you'd do right now if you had no fear? Answer or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ“¸', text:"[PLAYER] â€” take the most unhinged photo you can right now. Group votes if it's good enough. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ•ï¸', text:"[PLAYER] â€” have you ever done something illegal outdoors? Confess or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ¤', text:"[PLAYER] â€” sing the first song that comes to mind at full volume. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ¤¸', text:"[PLAYER] â€” do a cartwheel right now. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ˜³', text:"[PLAYER] â€” what's the most embarrassing outdoor memory you have? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸƒ', text:"[PLAYER] â€” find something in nature and present it like it's an art piece. 1 minute. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜', text:"[PLAYER] â€” what's the most scandalous thing you've done in a public place? Confess or drink 2x.", sub:'' },
    { type:'dare', emoji:'ğŸƒ', text:"[PLAYER] â€” run to the furthest visible point and back. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ”ï¸', text:"[PLAYER] â€” what's the most adventurous thing you've ever done? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ“£', text:"[PLAYER] â€” yell someone in this group's name as loud as possible. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸª£', text:"[PLAYER] â€” what's one thing on your bucket list you're embarrassed to admit? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ¦', text:"[PLAYER] â€” do your best animal impression for 20 seconds. Group guesses the animal. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ’ª', text:"[PLAYER] â€” do 10 push-ups right now. Or drink 2x.", sub:'' },
    { type:'dare', emoji:'â„ï¸', text:"[PLAYER] â€” lie on the ground and make a snow angel / grass angel. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸŒ©ï¸', text:"[PLAYER] â€” what's the wildest weather you've been caught in? Tell the story or drink.", sub:'' },
    { type:'truth', emoji:'ğŸï¸', text:"[PLAYER] â€” describe what you'd do if you were stranded here overnight. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¤•', text:"[PLAYER] â€” what's the most pain you've ever been in outdoors? Tell or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ§—', text:"[PLAYER] â€” what's one outdoor activity you'd be terrible at? Admit it or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ‘†', text:"[PLAYER] â€” go touch something you'd normally never touch here. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ’¬', text:"[PLAYER] â€” shout a compliment to a random stranger nearby. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸš·', text:"[PLAYER] â€” what's the most embarrassing reason you've been asked to leave a public space? Tell or drink 2x.", sub:'' },
    { type:'dare', emoji:'ğŸ­', text:"[PLAYER] â€” strike the most dramatic pose you can and hold it for 30 seconds. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸŒ¿', text:"[PLAYER] â€” what's the most spontaneous thing you've ever done? Confess or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ“·', text:"[PLAYER] â€” recreate your best or worst holiday photo right now. Or drink.", sub:'' },
    { type:'truth', emoji:'âš ï¸', text:"[PLAYER] â€” what's the most dangerous situation you've been in outdoors? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ§—', text:"[PLAYER] â€” go climb something nearby safely. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ‘£', text:"[PLAYER] â€” what's the longest you've ever walked in a day? Tell the story or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ’', text:"[PLAYER] â€” pick up something from the ground and describe it like it's a treasure. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¤£', text:"[PLAYER] â€” what's the most embarrassing outdoor fail you've had? Tell or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ§Ÿ', text:"[PLAYER] â€” point at who in this group would survive a zombie apocalypse longest. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜¨', text:"[PLAYER] â€” what's one thing you're secretly scared of outdoors? Admit it or drink.", sub:'' },
    { type:'dare', emoji:'ğŸªµ', text:"[PLAYER] â€” do your best survival tip for being stuck in the wild. Others vote if it'd work. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜´', text:"[PLAYER] â€” what's the most random place you've fallen asleep outdoors? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ”', text:"[PLAYER] â€” go find something that represents your personality right now and explain it. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ—ºï¸', text:"[PLAYER] â€” what's one outdoor place that's on your bucket list? Tell and why or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ§­', text:"[PLAYER] â€” point at who here you'd want with you if you got lost in the wilderness. Or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ“£', text:"[PLAYER] â€” shout something you've never told anyone out loud. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ˜–', text:"[PLAYER] â€” what's the most embarrassing thing that's happened to you on a trip? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ‹ï¸', text:"[PLAYER] â€” do 30 seconds of your best improvised outdoor workout. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸŒº', text:"[PLAYER] â€” what's the most beautiful thing you've ever seen in nature? Describe it or drink.", sub:'' },
    { type:'truth', emoji:'ğŸŠ', text:"[PLAYER] â€” have you ever skinny dipped? Tell the story or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ¤˜', text:"[PLAYER] â€” what's the most reckless outdoor thing you'd do again? Confess or drink.", sub:'' },
    { type:'truth', emoji:'ğŸŒ™', text:"[PLAYER] â€” what's the most romantic or most awful thing that's happened to you outdoors? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ¯', text:"[PLAYER] â€” pick a leaf or rock and give it a name and backstory in 30 seconds. Or drink.", sub:'' },
  ],
  road: [
    { type:'dare', emoji:'ğŸµ', text:"[PLAYER] â€” you control the aux for the next 10 minutes. No skipping allowed. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸš—', text:"[PLAYER] â€” what's the wildest thing that's happened to you on a road trip? No filter or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ“¸', text:"[PLAYER] â€” take the most cursed photo possible right now. Group rates it. If under 7/10 â€” drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜¤', text:"[PLAYER] â€” what's the most annoying thing someone on this trip does? Name them or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ¤', text:"[PLAYER] â€” road trip karaoke. Group picks the song, you perform it. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ’­', text:"[PLAYER] â€” what's one thing you hoped would happen on this trip that hasn't yet? Answer or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ™ï¸', text:"[PLAYER] â€” write a voice message to someone NOT on this trip and send it. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ†', text:"[PLAYER] â€” rate everyone on this trip by how fun they are. Out loud. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ˜³', text:"[PLAYER] â€” what's the most embarrassing thing that's happened to you on this trip so far? Tell or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¤«', text:"[PLAYER] â€” what's one thing you'd never admit at home but can say here? Spill or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ’¬', text:"[PLAYER] â€” describe each person on this trip in one brutal honest word. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ˜£', text:"[PLAYER] â€” what's the worst road trip experience you've ever had? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ“±', text:"[PLAYER] â€” let the group go through your phone for 1 minute. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'âš¡', text:"[PLAYER] â€” what's the most impulsive thing you've done on a trip? Tell or drink.", sub:'' },
    { type:'truth', emoji:'âœˆï¸', text:"[PLAYER] â€” if you had to leave one person from this trip behind right now, who would it be? Name them or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ”’', text:"[PLAYER] â€” what's a secret you've been keeping since this trip started? Confess or drink 2x.", sub:'' },
    { type:'dare', emoji:'ğŸ™ï¸', text:"[PLAYER] â€” send an embarrassing voice note to someone not on this trip. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸš¨', text:"[PLAYER] â€” what's one rule you've already broken on this trip? Confess or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ†˜', text:"[PLAYER] â€” point at who on this trip you'd call if things went seriously wrong. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸª', text:"[PLAYER] â€” what's the most honest thing you can say about this trip so far? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ­', text:"[PLAYER] â€” do a 60-second stand-up about this trip. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ´', text:"[PLAYER] â€” what's the weirdest thing you've eaten or drunk on a trip? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ¬', text:"[PLAYER] â€” recreate the most iconic moment of this trip in 30 seconds. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸª', text:"[PLAYER] â€” point at who's been the most drama on this trip so far. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ“¢', text:"[PLAYER] â€” what's one thing you'll definitely tell people when you get back? Share or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜µ', text:"[PLAYER] â€” what's the most sleep-deprived decision you've made on this trip? Confess or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¬', text:"[PLAYER] â€” if this trip were a movie, who would play each person here? Answer or drink.", sub:'' },
    { type:'truth', emoji:'â­', text:"[PLAYER] â€” what's the most honest review you'd give this trip right now out of 10? Explain it or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ¤£', text:"[PLAYER] â€” what's the funniest or most embarrassing photo you've taken on this trip? Show us or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ—ºï¸', text:"[PLAYER] â€” let someone else plan the next hour of this trip entirely. Or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ˜°', text:"[PLAYER] â€” what's one thing you've been too scared to do on this trip? Admit it or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ“²', text:"[PLAYER] â€” text someone back home the most dramatic update about this trip. Show us or drink.", sub:'' },
    { type:'truth', emoji:'âš”ï¸', text:"[PLAYER] â€” what's the biggest disagreement you've had on this trip? Tell or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ’š', text:"[PLAYER] â€” who on this trip would you take on every future trip? Point at them or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ™„', text:"[PLAYER] â€” what's the most overrated thing you've done on this trip? Tell or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ­', text:"[PLAYER] â€” imitate someone on this trip for 30 seconds. Group guesses who. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ’«', text:"[PLAYER] â€” what's one moment from this trip you never want to forget? Share or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¥‡', text:"[PLAYER] â€” point at who's been the best travel partner on this trip. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ§ ', text:"[PLAYER] â€” what's something you've learned about yourself on this trip? Tell or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¤·', text:"[PLAYER] â€” what's the most unprepared you've been on this trip? Confess or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ·ï¸', text:"[PLAYER] â€” describe this trip in 3 words. If the group agrees they're accurate â€” safe. Or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ ', text:"[PLAYER] â€” what's one thing you miss from home right now? Tell or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜¯', text:"[PLAYER] â€” who on this trip has surprised you the most? Tell them why or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ˜«', text:"[PLAYER] â€” what's the most inconvenient moment you've had on this trip? Tell or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ”„', text:"[PLAYER] â€” if you could change one thing about this trip, what would it be? Answer or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ—£ï¸', text:"[PLAYER] â€” what's the strangest conversation you've had with a local on this trip? Tell or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ›ï¸', text:"[PLAYER] â€” who on this trip would you least want to share a hotel room with? Point or drink 2x.", sub:'' },
    { type:'truth', emoji:'ğŸ’°', text:"[PLAYER] â€” what's the most money you've spent on something questionable on this trip? Confess or drink.", sub:'' },
    { type:'dare', emoji:'ğŸ¤', text:"[PLAYER] â€” do a dramatic retelling of your favorite moment from this trip so far. Or drink.", sub:'' },
    { type:'truth', emoji:'âª', text:"[PLAYER] â€” what's one thing you'd do differently if you could start this trip over? Tell or drink.", sub:'' },
    { type:'truth', emoji:'ğŸ¤', text:"[PLAYER] â€” what's one thing you haven't told anyone on this trip yet? Confess or drink.", sub:'' },
  ],
};

const VIBE_META = {
  house:{icon:'ğŸ ',name:'House Party'},
  bar:{icon:'ğŸº',name:'Bar & Club'},
  outdoor:{icon:'ğŸŒŠ',name:'Outdoors'},
  road:{icon:'ğŸš—',name:'Road Trip'}
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let state = {
  vibe: 'house',
  maxRounds: 5,
  players: [],
  scores: {},
  idx: 0,
  round: 1,
  used: [],
  ready: false
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SETUP
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function selectVibe(btn) {
  document.querySelectorAll('.vibe-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  state.vibe = btn.dataset.vibe;
}

function selectRounds(btn) {
  document.querySelectorAll('.round-opt').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  const val = btn.dataset.rounds;
  if (val === 'custom') {
    document.getElementById('customRoundWrap').style.display = 'block';
    document.getElementById('customRoundSpacer').style.display = 'none';
    document.getElementById('customRoundInput').focus();
    const cur = document.getElementById('customRoundInput').value;
    state.maxRounds = cur ? parseInt(cur) : 5;
  } else {
    document.getElementById('customRoundWrap').style.display = 'none';
    document.getElementById('customRoundSpacer').style.display = 'block';
    state.maxRounds = parseInt(val);
  }
}

function updateCustomRounds() {
  const val = parseInt(document.getElementById('customRoundInput').value);
  state.maxRounds = val > 0 ? val : 1;
}

function addPlayer() {
  const inp = document.getElementById('playerInput');
  const name = inp.value.trim();
  if (!name || state.players.includes(name) || state.players.length >= 8) return;
  state.players.push(name);
  inp.value = '';
  renderChips();
  checkStart();
}

function removePlayer(n) {
  state.players = state.players.filter(p => p !== n);
  renderChips();
  checkStart();
}

function renderChips() {
  document.getElementById('playersList').innerHTML = state.players.map(p =>
    `<div class="player-chip"><span>${p}</span><button onclick="removePlayer('${p}')">Ã—</button></div>`
  ).join('');
}

function checkStart() {
  document.getElementById('startBtn').disabled = state.players.length < 2;
}

function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => { s.classList.remove('active'); s.style.display='none'; });
  const el = document.getElementById(id);
  el.style.display = 'block';
  requestAnimationFrame(() => el.classList.add('active'));
}

function startGame() {
  state.scores = {};
  state.players.forEach(p => state.scores[p] = {drinks:0, tasks:0});
  state.idx = 0;
  state.round = 1;
  state.used = [];
  state.ready = false;

  const m = VIBE_META[state.vibe];
  document.getElementById('vibeIcon').textContent = m.icon;
  document.getElementById('vibeName').textContent = m.name;

  showScreen('gameScreen');
  updateTopBar();
  updatePlayer();
  renderScores();
  nextCard();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GAME LOGIC
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function getCard() {
  const pool = CARDS[state.vibe];
  const avail = pool.filter((_,i) => !state.used.includes(i));
  if (!avail.length) { state.used = []; return pool[Math.floor(Math.random()*pool.length)]; }
  const orig = pool.indexOf(avail[Math.floor(Math.random()*avail.length)]);
  state.used.push(orig);
  return pool[orig];
}

function nextCard() {
  const card = getCard();
  state.currentCard = card;
  state.ready = true;

  const el = document.getElementById('gameCard');
  const emoji = document.getElementById('cardEmoji');

  // Reset animations
  el.className = `card type-${card.type}`;
  emoji.className = 'card-emoji';

  // Trigger entrance animation
  requestAnimationFrame(() => {
    requestAnimationFrame(() => {
      el.classList.add('anim-enter');
      el.classList.add('reveal');
      setTimeout(() => {
        emoji.classList.add('pop');
      }, 150);
    });
  });

  const playerName = state.players[state.idx];
  document.getElementById('typeBadge').textContent = card.type.toUpperCase();
  document.getElementById('cardEmoji').textContent = card.emoji;
  document.getElementById('cardText').textContent = card.text.replace('[PLAYER]', playerName);
  document.getElementById('cardSub').textContent = card.sub;
}

function cardDone(completed) {
  if (!state.ready) return;
  state.ready = false;

  const player = state.players[state.idx];
  const el = document.getElementById('gameCard');

  if (completed) {
    state.scores[player].tasks++;
    el.classList.add('anim-done');
    showToast(`âœ… ${player} nailed it!`, 'done');
    burst(document.querySelector('.btn-done'));
  } else {
    // Count how many drinks from card text
    const cardText = document.getElementById('cardText').textContent;
    const multiMatch = cardText.match(/drink (\d+)x/i);
    const drinkCount = multiMatch ? parseInt(multiMatch[1]) : 1;
    state.scores[player].drinks += drinkCount;
    el.classList.add('anim-drink');
    const msg = drinkCount > 1 ? `ğŸº ${player} drinks ${drinkCount}x!` : `ğŸº ${player} drinks!`;
    showToast(msg, 'drink');
  }

  state.idx = (state.idx + 1) % state.players.length;
  if (state.idx === 0) state.round++;

  setTimeout(() => {
    if (state.maxRounds !== 999 && state.round > state.maxRounds) {
      showEndScreen(); return;
    }
    updateTopBar();
    updatePlayer();
    renderScores();
    nextCard();
  }, 420);
}

function updateTopBar() {
  const label = state.maxRounds === 999 ? `Round ${state.round}` : `Round ${state.round} / ${state.maxRounds}`;
  document.getElementById('roundDisplay').textContent = label;
}

function updatePlayer() {
  const el = document.getElementById('currentPlayer');
  el.style.animation = 'none';
  el.offsetHeight; // reflow
  el.style.animation = '';
  el.textContent = state.players[state.idx];
}

function renderScores() {
  document.getElementById('scoreRows').innerHTML = state.players.map((p, i) => {
    const s = state.scores[p];
    const active = i === state.idx;
    return `<div class="score-row ${active ? 'active' : ''}">
      <div class="score-name">${active ? '<span class="arrow">â–¶</span>' : ''}${p}</div>
      <div class="score-num drinks">${s.drinks}</div>
      <div class="score-num tasks">${s.tasks}</div>
    </div>`;
  }).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// END SCREEN
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showEndScreen() {
  showScreen('endScreen');

  const sorted = [...state.players].sort((a, b) => {
    const diff = state.scores[b].tasks - state.scores[a].tasks;
    return diff !== 0 ? diff : state.scores[a].drinks - state.scores[b].drinks;
  });

  const medals = ['ğŸ¥‡','ğŸ¥ˆ','ğŸ¥‰'];
  document.getElementById('podiumList').innerHTML = sorted.map((p, i) => {
    const s = state.scores[p];
    return `<div class="podium-row">
      <div class="podium-rank">${medals[i] || (i+1)+'.'}</div>
      <div class="podium-name">${p}</div>
      <div class="podium-stats">
        <div class="p-stat"><span class="p-num t">${s.tasks}</span><span class="p-lbl">Done</span></div>
        <div class="p-stat"><span class="p-num d">${s.drinks}</span><span class="p-lbl">Drinks</span></div>
      </div>
    </div>`;
  }).join('');
}

function resetGame() {
  state = { vibe:'house', maxRounds:5, players:[], scores:{}, idx:0, round:1, used:[], ready:false };
  document.getElementById('playersList').innerHTML = '';
  document.getElementById('startBtn').disabled = true;
  document.querySelectorAll('.vibe-btn').forEach((b,i) => b.classList.toggle('active', i===0));
  document.querySelectorAll('.round-opt').forEach(b => b.classList.toggle('active', b.dataset.rounds==='5'));
  showScreen('setupScreen');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TOAST
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showToast(msg, type) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.className = `toast ${type} show`;
  setTimeout(() => t.classList.remove('show'), 2200);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONFETTI BURST
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function burst(origin) {
  const colors = ['#ff2d55','#ffd60a','#00d4ff','#30d158','#bf5af2','#ff9f0a'];
  const rect = origin ? origin.getBoundingClientRect() : { left: window.innerWidth/2, top: window.innerHeight/2 };
  const cx = rect.left + rect.width/2;
  const cy = rect.top + rect.height/2;

  for (let i = 0; i < 18; i++) {
    const piece = document.createElement('div');
    piece.className = 'confetti-piece';
    const color = colors[Math.floor(Math.random() * colors.length)];
    const angle = (Math.random() * 360) * (Math.PI/180);
    const dist = 60 + Math.random() * 120;
    const dx = Math.cos(angle) * dist + 'px';
    const dy = (Math.sin(angle) * dist - 80) + 'px';
    const rot = (Math.random() - 0.5) * 720 + 'deg';
    const dur = (0.5 + Math.random() * 0.5) + 's';

    piece.style.cssText = `left:${cx}px;top:${cy}px;background:${color};--dx:${dx};--dy:${dy};--rot:${rot};--dur:${dur};`;
    document.body.appendChild(piece);
    setTimeout(() => piece.remove(), 1000);
  }
}
</script>
</body>
</html>
